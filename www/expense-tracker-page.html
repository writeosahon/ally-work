
<!-- the expense-tracker page -->
<ons-page id="expense-tracker-page">

    <ons-toolbar>
        <div class="left">
            <ons-toolbar-button onclick="utopiasoftware.ally.controller.expenseTrackerPageViewModel.backButtonClicked()">
                <ons-icon icon="md-long-arrow-left"></ons-icon>
            </ons-toolbar-button>
        </div>
        <div class="center">Expense Tracker</div>
        <div class="right">
            <ons-toolbar-button onclick="$('#side-menu').get(0).toggle()">
                <ons-icon icon="md-menu"></ons-icon>
            </ons-toolbar-button>
        </div>
    </ons-toolbar>

    <!-- viz-switch button -->
    <!--<ons-fab id="expense-tracker-viz-switch-fab" modifier="mini"
             data-ally-viz-type="grid"
             style="color: #ffffff; background-color: #30a401; position: fixed; margin-left: 1.1em; bottom: 2px !important;"
             onclick="utopiasoftware.ally.controller.expenseTrackerPageViewModel.switchVizTypeButtonClicked(this)">
        <ons-icon icon="md-chart" ></ons-icon>
    </ons-fab> -->

    <!-- add expense button -->
    <ons-fab id="expense-tracker-add-expense-fab" modifier="mini"
             style="color: #ffffff; background-color: #30a401; position: fixed; margin-left: 43vw;
             bottom: 2px !important;"
             onclick="$('#app-main-navigator').get(0).pushPage('add-expense-page.html', {});">
        <ons-icon icon="md-plus"></ons-icon>
    </ons-fab>

    <!-- expense visualisation controller. used to move between the different types of charts -->
    <ons-fab id="expense-tracker-viz-mover-fab" modifier="mini"
             data-ally-viz-mover="up"
             style="position: fixed; top: calc((100vh - 56px) / 2);
    margin-left: calc(100vw - 48px); color: #ffffff; background-color: #30a401;
    display: none; opacity: 0.5;"
             onclick="utopiasoftware.ally.controller.expenseTrackerPageViewModel.moveVizButtonClicked(this)">
        <ons-icon icon="md-chevron-up"></ons-icon>
    </ons-fab>

    <div style="position: fixed; top: 58px; display: block; width: 100%;">
    <!-- section holds the period select row -->
    <ons-row valign="bottom">
        <ons-col width="50%"></ons-col>
        <ons-col width="50%" class="expense-tracker-period-select-col">
            <select id="expense-tracker-period-select">
                <option value="today" selected>Today</option>
                <option value="weekly">Last 7 Days</option>
                <option value="monthly">Last 30 Days</option>
                <option value="custom">Custom Date</option>
            </select>
        </ons-col>
    </ons-row>

    <!-- section holds the period select row -->
    <ons-row id="expense-tracker-custom-date-container" valign="middle" style="visibility: collapse; margin-top: 0; padding-top: 0;">
        <ons-col width="10%" style="margin-top: 0; padding-top: 0;">
        </ons-col>
        <ons-col width="80%" style="margin-top: 0; padding-top: 0; text-align: center">
            <input id="expense-tracker-custom-date" type="text"
            onfocus="utopiasoftware.ally.controller.expenseTrackerPageViewModel.expenseTrackerDateRangerPicker.show();">
        </ons-col>
        <ons-col width="10%" style="margin-top: 0; padding-top: 0;">
        </ons-col>
    </ons-row>
    <!-- holds button segment to move between grid and charts -->
     <ons-row>
         <ons-col width="100%" style="text-align: center;">
             <ons-segment style="width: 80%">
                 <ons-button
                         onclick="utopiasoftware.ally.controller.expenseTrackerPageViewModel.switchVizTypeButtonClicked('grid')">
                     <ons-icon icon="md-grid"></ons-icon> Grid
                 </ons-button>
                 <ons-button
                         onclick="utopiasoftware.ally.controller.expenseTrackerPageViewModel.switchVizTypeButtonClicked('chart')">
                     <ons-icon icon="md-chart"></ons-icon> Chart
                 </ons-button>
             </ons-segment>
         </ons-col>
     </ons-row>
    </div>

    <div class="content" style="position: absolute; top: 11em"> <!-- content of the page begins -->
        <!-- carousel holds the combination of expense grid and expense charts -->
        <ons-carousel id="expense-tracker-carousel" direction="vertical" initial-index="2" item-height="100%" style="height: 100%;">

            <ons-carousel-item> <!-- item holds the expense radial gauge -->
                <ons-card id="expense-tracker-radial-gauge"
                          style="width: 100%; height: 20em; padding: 0 !important; background-color: #ffffff">
                    <div class="title" style="font-size: 0.85em; padding: 0.5em;">
                        ALLY Expense Tracker (Gauge)
                    </div>
                    <div class="content" style="padding: 0.5em;">

                        <ons-icon icon="md-settings" size="28px" style="color: #30a401;" spin>
                        </ons-icon>
                    </div>
                </ons-card>
            </ons-carousel-item>

            <ons-carousel-item> <!-- item holds the expense bar chart -->
                <ons-card id="expense-tracker-barchart"
                          style="width: 100%; height: 20em; padding: 0 !important; background-color: #ffffff">
                    <div class="title" style="font-size: 0.85em; padding: 0.5em;">
                        ALLY Expense Tracker (Bar Chart)
                    </div>
                    <div class="content" style="padding: 0.5em;">

                        <ons-icon icon="md-settings" size="28px" style="color: #30a401;" spin>
                        </ons-icon>
                    </div>
                </ons-card>
            </ons-carousel-item>

            <ons-carousel-item style="overflow-y: scroll;"> <!-- item holds the expense grid -->
                <div id="expense-tracker-grid"></div>
            </ons-carousel-item>

        </ons-carousel>
    </div>

</ons-page>